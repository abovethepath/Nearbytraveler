Here’s how to get your actual site back right now:

Option A (recommended): run the one-port dev server (aliases ON)

This uses the Vite middleware config that already has @ and @shared aliases. Your real Home page will load.

# stop everything else
pkill -f "server/index|dev-oneport.mjs|vite|cartographer|runtime-error" || true

# start the one-port dev server (HMR on the same port, aliases active)
node dev-oneport.mjs


Open the app. You should see your real Home (not the fallback).
If Replit’s workflow tries to respawn the old server, run the guard:

./start-dev.sh

Option B (prod mode, no WebSocket) — only if you must stay in prod

Prod uses the protected Vite config (aliases OFF), so your Home page (with @/... and @shared/...) won’t resolve. Two ways around it:

B1. Temporary route to a page that compiles without aliases
Edit client/src/App.tsx so / points to whichever page in /__pages actually renders without alias errors (e.g., ProfilePageResponsive or city-chatrooms). Use relative imports:

const Home = lazy(() => import("./pages/ProfilePageResponsive")); // pick a working page
<Route path="/" component={Home} />


Then:

cd client && npx vite build --mode production --sourcemap && cd ..
NODE_ENV=production node server/index.prod.js


B2. Convert @/ imports to Vite’s built-in absolute /src/
This lets prod builds resolve without aliases. (⚠️ Leaves @shared/... untouched.)

# backup first if you use git
git add -A && git commit -m "backup before alias replace" || true

# replace: from "@/..."  ->  from "/src/..."
find client/src -type f \( -name "*.ts" -o -name "*.tsx" -o -name "*.js" -o -name "*.jsx" \) \
  -print0 | xargs -0 sed -i 's/from "@\//from "\/src\//g'


Rebuild prod after.
If you also have lots of @shared/... imports, those still need an alias or hand-converted relative paths; that’s why Option A is simpler.

Clean the placeholder & dev tools (once you’re back on your Home)

In client/src/App.tsx, make sure / points to your real Home component.

Remove the Dev Page Explorer from the UI (keep the file if you want it for later debugging, but don’t render it).

Keep ErrorBoundary—it prevents another white screen and shows real stacks.

Why this happened

Your Home and many components import via @/... and @shared/....

In prod, the protected Vite config can’t be changed, so those aliases are unresolved → build swaps or fails.

The one-port dev server does have aliases, so it renders your true app as-is.

If you want, tell me which exact file in /__pages is your real home (e.g., /pages/home.tsx or /pages/home-v3/index.tsx). I’ll give you the precise App.tsx lines to point / at it—and, if you must stay in prod, I’ll hand you a safe batch replace for the remaining @shared/... imports so it compiles without touching the protected config.