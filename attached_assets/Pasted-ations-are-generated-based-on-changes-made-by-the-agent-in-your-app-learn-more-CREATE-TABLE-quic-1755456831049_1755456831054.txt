ations are generated based on changes made by the agent in your app, learn more.
CREATE TABLE "quick_deal_redemptions" (
	"id" serial PRIMARY KEY NOT NULL,
	"deal_id" integer NOT NULL,
	"user_id" integer NOT NULL,
	"status" text DEFAULT 'claimed' NOT NULL,
	"claimed_at" timestamp DEFAULT now(),
	"redeemed_at" timestamp,
	"notes" text,
	CONSTRAINT "quick_deal_redemptions_deal_id_user_id_key" UNIQUE("deal_id","user_id")
);
CREATE TABLE "quick_deals" (
	"id" serial PRIMARY KEY NOT NULL,
	"business_id" integer NOT NULL,
	"title" text NOT NULL,
	"description" text NOT NULL,
	"deal_type" text NOT NULL,
	"category" text NOT NULL,
	"location" text NOT NULL,
	"street" text,
	"city" text NOT NULL,
	"state" text,
	"country" text,
	"discount_amount" text,
	"original_price" text,
	"sale_price" text,
	"valid_from" timestamp DEFAULT now(),
	"valid_until" timestamp NOT NULL,
	"max_redemptions" integer DEFAULT 100,
	"current_redemptions" integer DEFAULT 0,
	"requires_reservation" boolean DEFAULT false,
	"deal_code" text,
	"terms" text,
	"availability" text DEFAULT 'now',
	"is_active" boolean DEFAULT true,
	"created_at" timestamp DEFAULT now(),
	"zipcode" text,
	"auto_expire" boolean DEFAULT true NOT NULL
);
ALTER TABLE "events" ADD COLUMN "country" text DEFAULT 'United States' NOT NULL;
ALTER TABLE "users" ADD COLUMN "metro_area" text;
ALTER TABLE "users" ADD COLUMN "is_metro_user" boolean DEFAULT false;
ALTER TABLE "users" ADD COLUMN "custom_interests" text;
ALTER TABLE "users" ADD COLUMN "custom_activities" text;
ALTER TABLE "users" ADD COLUMN "custom_events" text;
ALTER TABLE "users" ADD COLUMN "currentLatitude" double precision;
ALTER TABLE "users" ADD COLUMN "currentLongitude" double precision;
ALTER TABLE "users" ADD COLUMN "lastLocationUpdate" timestamp;
ALTER TABLE "users" ADD COLUMN "locationSharingEnabled" boolean DEFAULT false;
ALTER TABLE "users" ADD COLUMN "hometownCity" text;
ALTER TABLE "users" ADD COLUMN "hometownState" text;
ALTER TABLE "users" ADD COLUMN "hometownCountry" text;
ALTER TABLE "users" ADD COLUMN "profileImage" text;
ALTER TABLE "users" ADD COLUMN "is_minority_owned" boolean DEFAULT false;
ALTER TABLE "users" ADD COLUMN "is_female_owned" boolean DEFAULT false;
ALTER TABLE "users" ADD COLUMN "is_lgbtqia_owned" boolean DEFAULT false;
ALTER TABLE "users" ADD COLUMN "show_minority_owned" boolean DEFAULT true;
ALTER TABLE "users" ADD COLUMN "show_female_owned" boolean DEFAULT true;
ALTER TABLE "users" ADD COLUMN "show_lgbtqia_owned" boolean DEFAULT true;
ALTER TABLE "users" ADD COLUMN "owner_phone" text;
ALTER TABLE "quick_deal_redemptions" ADD CONSTRAINT "quick_deal_redemptions_deal_id_fkey" FOREIGN KEY ("deal_id") REFERENCES "public"."quick_deals"("id") ON DELETE cascade ON UPDATE no action;
ALTER TABLE "quick_deal_redemptions" ADD CONSTRAINT "quick_deal_redemptions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "public"."users"("id") ON DELETE cascade ON UPDATE no action;