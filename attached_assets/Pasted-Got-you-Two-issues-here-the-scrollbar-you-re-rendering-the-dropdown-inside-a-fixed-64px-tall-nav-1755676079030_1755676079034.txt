Got you. Two issues here:

the scrollbar: you’re rendering the dropdown inside a fixed 64px-tall nav, so the dropdown overflows that box and the nav itself becomes scrollable.

the hamburger: the dropdown is in the same fixed container / stacking context, so taps can be flaky and the layout fights you.

Fix: move the dropdown outside the nav wrapper and make it fixed starting at top-16, lock body scroll while it’s open, and ditch width: 100vw (which can cause overflow on mobile). Here’s a drop-in rewrite:

import React, { useState, useEffect } from "react";
import { Bell, Menu, X } from "lucide-react";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import { Button } from "@/components/ui/button";
import { AuthContext } from "@/App";
import { useLocation } from "wouter";
import Logo from "@/components/logo";
import { authStorage } from "@/lib/auth";

export function MobileTopNav() {
  const { user, logout } = React.useContext(AuthContext);
  const [, setLocation] = useLocation();
  const [showDropdown, setShowDropdown] = useState(false);
  const [currentUser, setCurrentUser] = useState<any>(null);

  // hydrate currentUser from best source available
  useEffect(() => {
    if (user?.username) return setCurrentUser(user);
    const storedUser = authStorage.getUser();
    if (storedUser?.username) return setCurrentUser(storedUser);
    try {
      const raw = localStorage.getItem("travelconnect_user");
      if (raw) {
        const parsed = JSON.parse(raw);
        if (parsed?.username) return setCurrentUser(parsed);
      }
    } catch {}
    setCurrentUser(null);
  }, [user]);

  // close on profile updates
  useEffect(() => {
    const handleUpdate = (e: any) => setCurrentUser(e?.detail ?? currentUser);
    window.addEventListener("profilePhotoUpdated", handleUpdate);
    window.addEventListener("userDataUpdated", handleUpdate);
    window.addEventListener("profileUpdated", handleUpdate);
    return () => {
      window.removeEventListener("profilePhotoUpdated", handleUpdate);
      window.removeEventListener("userDataUpdated", handleUpdate);
      window.removeEventListener("profileUpdated", handleUpdate);
    };
  }, [currentUser]);

  // lock body scroll when menu open
  useEffect(() => {
    if (showDropdown) {
      const prev = document.body.style.overflow;
      document.body.style.overflow = "hidden";
      return () => {
        document.body.style.overflow = prev;
      };
    }
  }, [showDropdown]);

  const go = (path: string) => {
    setShowDropdown(false);
    setLocation(path);
  };

  return (
    <>
      {/* NAV BAR (no inline 100vw — prevents ghost scrollbar) */}
      <div className="mobile-top-nav fixed inset-x-0 top-0 z-[1000] h-16 w-full bg-white dark:bg-gray-900 shadow-sm md:hidden overflow-visible">
        <div className="flex items-center justify-between h-16 px-4">
          {/* Left: Hamburger */}
          <div className="flex items-center">
            <Button
              aria-expanded={showDropdown}
              aria-controls="mobile-menu"
              variant="ghost"
              size="sm"
              className="w-9 h-9 p-0"
              onClick={() => setShowDropdown((s) => !s)}
            >
              {showDropdown ? <X className="w-5 h-5" /> : <Menu className="w-5 h-5" />}
            </Button>
          </div>

          {/* Center: Logo */}
          <div className="flex-1 flex justify-center">
            <Logo variant="navbar" />
          </div>

          {/* Right: Bell + Avatar */}
          <div className="flex items-center gap-3">
            <Button
              variant="ghost"
              size="sm"
              className="relative w-9 h-9 p-0"
              onClick={() => go("/notifications")}
            >
              <Bell className="w-5 h-5 text-gray-600 dark:text-gray-400" />
              <div className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-900" />
            </Button>

            <Avatar
              className="w-9 h-9 cursor-pointer border-2 border-gray-200 dark:border-gray-700"
              onClick={() => {
                setShowDropdown(false);
                currentUser?.id ? go(`/profile/${currentUser.id}`) : go("/profile");
              }}
            >
              <AvatarImage
                src={currentUser?.profileImage || undefined}
                alt={currentUser?.name || currentUser?.username || "User"}
              />
              <AvatarFallback className="text-xs bg-blue-500 text-white">
                {currentUser?.name?.charAt(0)?.toUpperCase() ||
                  currentUser?.username?.charAt(0)?.toUpperCase() ||
                  "U"}
              </AvatarFallback>
            </Avatar>
          </div>
        </div>
      </div>

      {/* OVERLAY (below nav so hamburger remains clickable) */}
      {showDropdown && (
        <div
          onClick={() => setShowDropdown(false)}
          className="fixed inset-0 top-16 z-[998] bg-black/30 md:hidden"
        />
      )}

      {/* DROPDOWN (sibling, not inside the 64px nav; no more nav scrollbar) */}
      {showDropdown && (
        <div
          id="mobile-menu"
          className="fixed top-16 left-0 right-0 z-[999] md:hidden
                     bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700
                     shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto overscroll-contain"
        >
          <div className="flex flex-col py-2">
            {currentUser?.userType === "business" ? (
              <>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/")}>
                  Business Dashboard
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/create-event")}>
                  Create Event
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/messages")}>
                  Customer Messages
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go(currentUser?.id ? `/profile/${currentUser.id}` : "/profile")}>
                  Business Profile
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/discover")}>
                  View Cities
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/welcome-business")}>
                  Business Welcome
                </button>
              </>
            ) : (
              <>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/")}>
                  Home
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/discover")}>
                  Cities
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/events")}>
                  Events
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/match-in-city")}>
                  City Match
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/connect")}>
                  Connect
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go("/messages")}>
                  Messages
                </button>
                <button className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800" onClick={() => go(currentUser?.id ? `/profile/${currentUser.id}` : "/profile")}>
                  Profile
                </button>
              </>
            )}

            <button
              className="px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800 border-t border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400"
              onClick={() => {
                setShowDropdown(false);
                logout();
              }}
            >
              Sign Out
            </button>
          </div>
        </div>
      )}
    </>
  );
}


What changed (and why):

Dropdown is now a sibling fixed top-16 element (not a child of the 64px bar) → no more scrollbar inside the nav.

Removed inline style={{ width: '100vw' }} → 100vw often triggers phantom horizontal scrollbars on mobile; w-full fixes it.

Added a backdrop overlay that closes the menu on tap and prevents interacting with the page behind.

Body scroll lock while the menu is open.

Kept z-index ordering so the hamburger stays tappable (nav z-[1000], dropdown 999, overlay 998). They don’t overlap because the dropdown starts at top-16.

If the hamburger still doesn’t toggle after this, it’s almost always a stacking/z-index conflict from another fixed header/footer. In that case, tell me what else is fixed on the page (or share a screenshot) and I’ll align the z-indices.