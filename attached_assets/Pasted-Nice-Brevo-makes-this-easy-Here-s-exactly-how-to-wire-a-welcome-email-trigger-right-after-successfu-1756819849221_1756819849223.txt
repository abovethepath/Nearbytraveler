Nice—Brevo makes this easy. Here’s exactly how to wire a welcome email trigger right after successful registration using Brevo’s Node SDK (template-based, with params), plus a couple of “don’t double-send” guards.

1) Install & set up the SDK
npm i @getbrevo/brevo

// server/lib/brevo.ts
import * as Brevo from "@getbrevo/brevo";

export const brevo = new Brevo.TransactionalEmailsApi();
brevo.setApiKey(Brevo.TransactionalEmailsApiApiKeys.apiKey, process.env.BREVO_API_KEY!);


Docs/recipes for reference: sending transactional emails, templates & batch versions. 
developers.brevo.com
+2
developers.brevo.com
+2

2) Create a Brevo template (one-time in the Brevo UI)

Transactional → Templates → “New Template”

Subject: Welcome to Nearby Traveler, {{params.firstName}}!

Body: use Brevo Template Language variables, e.g. {{params.firstName}}, {{params.ctaUrl}}. 
Brevo Help
+1
Email Mavlers

Grab the numeric templateId.

3) Drop-in sender

Verify a sender domain & email (e.g., hello@nearbytraveler.com) in Brevo’s “Senders & Domains.” (Unverified senders often get suppressed.) 
Brevo Community

4) The welcome mailer utility
// server/emails/sendWelcomeEmail.ts
import * as Brevo from "@getbrevo/brevo";
import { brevo as emailAPI } from "../lib/brevo";

const SENDER = { name: "Nearby Traveler", email: "hello@nearbytraveler.com" };
const TEMPLATE_ID = Number(process.env.BREVO_WELCOME_TEMPLATE_ID);

type WelcomeParams = {
  email: string;
  name?: string;
  username?: string;
  ctaUrl?: string;
};

export async function sendWelcomeEmail({ email, name, username, ctaUrl }: WelcomeParams) {
  const msg = new Brevo.SendSmtpEmail();
  msg.templateId = TEMPLATE_ID;
  msg.sender = SENDER;
  msg.to = [{ email, name: name || username || "Traveler" }];
  msg.params = {
    firstName: name?.split(" ")[0] || username || "Traveler",
    username,
    ctaUrl: ctaUrl || "https://app.nearbytraveler.com/welcome",
  };
  // optional—but handy for dedupe in logs
  msg.headers = { "X-NT-MailType": "welcome" };

  return emailAPI.sendTransacEmail(msg);
}


API endpoint & fields here for sanity-check. 
developers.brevo.com

5) Call it right after user creation (non-blocking)
// server/routes.ts (inside POST /api/register AFTER you create the user)
import { sendWelcomeEmail } from "../emails/sendWelcomeEmail";

const user = await createUser(processedData);

// idempotency guard: only send if this is a new user (not a re-login)
if (user.isNew === true || user.createdAt === user.updatedAt) {
  // Fire-and-forget; don't block response
  sendWelcomeEmail({
    email: user.email,
    name: user.name,
    username: user.username,
    ctaUrl: `https://app.nearbytraveler.com/welcome`,
  }).catch(err => console.error("Welcome email failed:", err));
}

return res.status(201).json({ user, token });


If your createUser doesn’t expose isNew, compare timestamps or add a boolean from the insert path.

6) Environment
BREVO_API_KEY= xkeysib_xxx...
BREVO_WELCOME_TEMPLATE_ID= 123

7) Test checklist

Create a brand-new user → verify a 202 Accepted event in Brevo’s Transactional logs. 
Brevo Help

Confirm the email lands; if not, check domain verification & suppression list. 
Brevo Community

Re-register same email (if allowed) → ensure your guard prevents duplicate sends.

8) Optional niceties

Webhooks: set Brevo webhooks for delivered, opened, bounced and record on your side. Useful for support & analytics. 
developers.brevo.com

Batch welcome (for backfill): use messageVersions to send personalized welcomes to many new accounts in one call. 
developers.brevo.com

SMTP relay: if you prefer Nodemailer + SMTP instead of API, Brevo provides SMTP credentials.