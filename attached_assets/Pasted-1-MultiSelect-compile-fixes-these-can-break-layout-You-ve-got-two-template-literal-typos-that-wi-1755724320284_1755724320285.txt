1) MultiSelect compile fixes (these can break layout)

You’ve got two template-literal typos that will throw and leave components half-rendered (often leading to phantom scrollbars).

// BEFORE
<CommandInput placeholder={Search ${placeholder.toLowerCase()}...} />

// AFTER ✅
<CommandInput placeholder={`Search ${placeholder.toLowerCase()}...`} />

// BEFORE
<Check className={mr-2 h-4 w-4 ${ selected.includes(item) ? "opacity-100" : "opacity-0" }} />

// AFTER ✅
<Check
  className={`mr-2 h-4 w-4 ${selected.includes(item) ? "opacity-100" : "opacity-0"}`}
/>

2) Kill the pills’ scrollbars (flex-wrap, no overflow)

On profile “chips/pills” rows, ensure the container never gets overflow applied by a parent and that chips wrap.

Create a tiny reusable wrapper:

// PillRow.tsx
export function PillRow({ children }: { children: React.ReactNode }) {
  return (
    <div className="flex flex-wrap gap-2 items-center overflow-visible max-w-full">
      {children}
    </div>
  );
}


Use it anywhere you render interests/activities/tags:

<PillRow>
  {filteredInterests.map((i) => (
    <Badge key={i} variant="secondary" className="text-xs">
      {i}
    </Badge>
  ))}
</PillRow>


And make sure parents of that row don’t force scrolling. Common culprits:

CardContent or a section with overflow-auto or a fixed max-h.

A grid/column with h-screen or max-h-* plus padding.

Prefer:

<CardContent className="overflow-visible"> … </CardContent>


or just remove the overflow-* class from that container.

3) Popover list scrolling is fine—keep it local

Your popover already uses

<CommandGroup className="max-h-60 overflow-y-auto">


That’s good. The visible “random” scrollbars are almost always from the chip row container or its parents, not this.

4) Right-side page scrollbar in the navbar (global overflow-x)

This usually comes from a child wider than the viewport (e.g., w-screen inside a padded container, or a wide image). Add a safe global clamp and audit any w-screen:

Global (Tailwind utilities in your app shell):

<html class="overflow-x-hidden">
<body class="overflow-x-hidden">


App shell (e.g., in your App layout or page wrapper):

<main className="min-h-screen w-full overflow-x-clip">
  {/* page content */}
</main>


Audit these in your navbar/content:

Replace w-screen with w-full when inside padded containers.

Avoid negative margins that push content horizontally.

For wide media, add max-w-full and overflow-x-hidden on their wrappers.

5) Button container for MultiSelect (prevent chip row squish)

Your trigger button is okay, but give the chip pile breathing room:

<Button
  variant="outline"
  role="combobox"
  aria-expanded={open}
  className="w-full justify-between min-h-[40px] h-auto overflow-visible"
>
  <div className="flex flex-wrap gap-1 items-center max-w-[calc(100%-1.5rem)]">
    {/* chips */}
  </div>
  <ChevronsUpDown className="ml-2 h-4 w-4 shrink-0 opacity-50" />
</Button>


That max-w-[calc(100%-1.5rem)] keeps the chips from colliding with the chevron and forcing a horizontal scrollbar.

6) Duplicate interface + tiny TS hygiene

You’ve got interface EnhancedProfileProps { userId?: number; } declared twice. Keep only one.

7) “Back to chatroom” navigation (wouter)

setLocation(-1) isn’t valid for wouter. Use history back when you don’t have a safe route:

if (context.type === 'people_discovery' && context.categorySlug) {
  setLocation(`/community/${destination}?activeCategory=people&subTab=${context.categorySlug}`);
} else if (context.type === 'travel_stats' && context.destination) {
  setLocation(`/chatrooms/${context.destination}`);
} else {
  // fallback
  window.history.length > 1 ? window.history.back() : setLocation('/');
}

8) Make tabs unmount to reduce weird overflow interactions

Heavy tab panes can cause layout jitter that presents as scrollbars. With shadcn/ui Tabs, ensure non-active content unmounts:

<Tabs value={activeTab} onValueChange={setActiveTab}>
  <TabsList>…</TabsList>
  <TabsContent value="overview" forceMount={false}>…</TabsContent>
  <TabsContent value="photos" forceMount={false}>…</TabsContent>
  <TabsContent value="references" forceMount={false}>…</TabsContent>
</Tabs>


(If you set forceMount to true anywhere, remove it unless you truly need persistence.)

9) Optional: hide visual scrollbars only in chip areas (if a parent must scroll)

If you must keep overflow on a parent (e.g., for a small mobile panel), you can hide the scrollbar just for that chips wrapper:

/* globals.css */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

<div className="no-scrollbar overflow-x-auto">
  <PillRow>{/* chips */}</PillRow>
</div>

10) Quick performance & maintainability wins for a 7k file

Split: Pull MultiSelect, PillRow, PhotoAlbumWidget, ThingsIWantToDoSection, WhatYouHaveInCommon, reference forms, and location widgets into their own files. Keep ProfileContent mostly orchestration.

Lazy-load heavy panes: const PhotosTab = React.lazy(() => import('./PhotosTab')) and render it only when active.

Debounce text inputs with useDeferredValue or a setTimeout 300ms to avoid thrash on mobile.

Memoize derived lists (e.g., filteredInterests) with correct deps.

Guard popover portals with modal={false} if they appear inside overflowed parents to prevent clipping.

If you paste me the specific section where you render the interests/activities/tags and the navbar wrapper, I’ll drop in the exact className changes line-by-line. But the patches above usually eliminate both the pills scrollbars and the mystery right-edge scrollbar on mobile.