ğŸ“„ Serving frontend for: /
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:10:24.381Z
ğŸ”§ NODE_ENV: production
Menu
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:10:24.390Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸ¢ DIRECT API: Fetching businesses
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ” Auth check debug: {
  hasSession: true,
  sessionID: 'iHUhdYwjOu...',
  hasCookie: true,
  cookiePreview: '_ga=GA1.1.664675618.1762112670; _ga_SNM2SGWP9K=GS2...',
  hasUser: false,
  userId: undefined
}
âŒ Auth check: No session user
5:10:24 AM [express] GET /api/auth/user 401 in 2ms :: {"message":"Not authenticated"}
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City' } URL: /api/events?city=Culver%20City
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
â±ï¸ MATCHING: Starting findMatches for user 99
5:10:24 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
ğŸ“„ Serving frontend for: /new-logo_1753994063802.png
5:10:24 AM [express] GET /api/users/99 500 in 345ms :: {"message":"Failed to fetch user"}
5:10:24 AM [express] GET /api/users 200 in 381ms :: []
5:10:24 AM [express] GET /api/users/99 500 in 83ms :: {"message":"Failed to fetch user"}
5:10:24 AM [express] GET /api/messages/99/unread-count 200 in 368ms :: {"unreadCount":"2"}
5:10:24 AM [express] GET /api/travel-plans/99 304 in 560ms :: [{"id":63,"userId":99,"destination":"Bâ€¦
5:10:24 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
5:10:25 AM [express] GET /api/quick-meets 304 in 625ms :: [{"id":18,"organizerId":103,"title":"Bike â€¦
5:10:25 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
5:10:25 AM [express] GET /api/connections/99/requests 304 in 222ms :: [{"id":89,"status":"pending","â€¦
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:10:25.334Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:10:25 AM [express] GET /api/users/99/matches 500 in 786ms :: {"message":"Failed to fetch matches"}
5:10:25 AM [express] GET /api/events 500 in 849ms :: {"message":"Failed to fetch events"}
5:10:25 AM [express] GET /api/quick-meets 304 in 16ms :: []
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City' } URL: /api/events?city=Culver%20City
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:10:25.541Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Breda' } URL: /api/events?city=Breda
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Breda' }
ğŸ“… EVENTS DEBUG: Extracted city="Breda" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Breda"
ğŸ“… EVENTS DEBUG: City parameter received: "Breda", type: string
ğŸª EVENTS: Getting events for city: Breda
ğŸ¯ EVENTS EXACT: "Breda" not in metro area, searching exact city only
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
5:10:25 AM [express] GET /api/users/99 500 in 1264ms :: {"message":"Failed to fetch user"}
5:10:25 AM [express] GET /api/users 200 in 1120ms :: []
5:10:25 AM [express] GET /api/messages/99 500 in 1118ms :: {"message":"Failed to fetch messages"}
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:10:25 AM [express] GET /api/events 500 in 1084ms :: {"message":"Failed to fetch events"}
5:10:25 AM [express] GET /api/quick-meets 304 in 1346ms :: [{"id":18,"organizerId":103,"title":"Bikeâ€¦
ğŸ¢ DIRECT API: Found 1 businesses
5:10:25 AM [express] GET /api/events 500 in 510ms :: {"message":"Failed to fetch events"}
5:10:25 AM [express] GET /api/quick-meets 304 in 394ms :: [{"id":18,"organizerId":103,"title":"Bike â€¦
ğŸ¤– AI TRIGGER: Breda has only 0 events - generating AI events with OpenAI
ğŸ”’ PRIVATE EVENTS: No user provided - filtered 0 events down to 0 public events
5:10:25 AM [express] GET /api/events 304 in 398ms :: []
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Breda
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:10:25 AM [express] GET /api/events 500 in 431ms :: {"message":"Failed to fetch events"}
5:10:26 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
5:10:26 AM [express] GET /api/weather 500 in 0ms :: {"message":"Weather service not configured"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:10:26 AM [express] GET /api/users/99/matches 500 in 66ms :: {"message":"Failed to fetch matches"}
5:10:26 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:10:28 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:10:28 AM [express] GET /api/users/99/profile-bundle 500 in 85ms :: {"message":"Failed to fetch proâ€¦
5:10:28 AM [express] GET /api/connections/99 200 in 126ms :: [{"id":76,"status":"accepted","createdAâ€¦
5:10:28 AM [express] GET /api/users/99/chatroom-participation 200 in 156ms :: [{"id":138,"name":"Welâ€¦
5:10:29 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:10:29 AM [express] GET /api/users/99/profile-bundle 500 in 20ms :: {"message":"Failed to fetch proâ€¦
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:10:29.841Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:10:29 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:10:29 AM [express] GET /api/user/qr-code 500 in 12ms :: {"error":"Failed to generate QR code"}
5:10:29 AM [express] GET /api/users/99/travel-plans 200 in 10ms :: [{"id":63,"userId":99,"destinatioâ€¦
5:10:29 AM [express] GET /api/quick-meets 200 in 25ms :: [{"id":16,"organizerId":99,"title":"Quick Wâ€¦
5:10:29 AM [express] GET /api/user-event-interests/99 304 in 25ms :: []
5:10:29 AM [express] GET /api/user-city-interests/99 304 in 23ms :: []
ğŸª PROFILE EVENTS: Getting all events for organizer 99
ğŸª PROFILE EVENTS: Found 1 events for organizer 99
ğŸª PROFILE EVENTS: Event details: [
  { id: 295, title: 'Party in Playa ', date: 2026-01-25T17:58:00.000Z }
]
5:10:30 AM [express] GET /api/events/organizer/99 304 in 160ms :: [{"id":295,"title":"Party in Playaâ€¦
5:10:30 AM [express] GET /api/users/99/all-events 200 in 305ms :: [{"id":295,"title":"Party in Playaâ€¦
5:10:31 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:10:31 AM [express] GET /api/user/qr-code 500 in 5ms :: {"error":"Failed to generate QR code"}
5:10:33 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:10:33 AM [express] GET /api/user/qr-code 500 in 4ms :: {"error":"Failed to generate QR code"}
5:10:55 AM [express] GET /api/messages/99/unread-count 304 in 6ms :: {"unreadCount":"2"}
5:11:25 AM [express] GET /api/messages/99/unread-count 304 in 29ms :: {"unreadCount":"2"}
==> Detected service running on port 10000
==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
Help chatbot error: OpenAIError: Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.
    at new OpenAI (file:///opt/render/project/src/node_modules/openai/client.mjs:87:19)
    at server/services/aiHelpChatbot.ts (file:///opt/render/project/src/dist/index.js:19671:15)
    at __init (file:///opt/render/project/src/dist/index.js:12:56)
    at file:///opt/render/project/src/dist/index.js:34108:89
    at async file:///opt/render/project/src/dist/index.js:34108:53
5:13:58 AM [express] POST /api/ai/help-chat 500 in 2ms :: {"error":"Failed to process your question"}
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /https%3A/fonts.googleapis.com/css2%3Ffamily%3DInter%3Awght%40300%3B400%3B500%3B600%26display%3Dswap
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /wp-login.php
5:34:12 AM [express] GET /api/users 200 in 44ms :: []
5:34:12 AM [express] GET /api/messages/99 500 in 73ms :: {"message":"Failed to fetch messages"}
5:34:13 AM [express] GET /api/connections/99 304 in 164ms :: [{"id":76,"status":"accepted","createdAâ€¦
5:34:14 AM [express] GET /api/messages/99 500 in 12ms :: {"message":"Failed to fetch messages"}
5:34:16 AM [express] GET /api/messages/99 500 in 46ms :: {"message":"Failed to fetch messages"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:34:16.943Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:34:16.955Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:34:16 AM [express] GET /api/users 200 in 35ms :: []
â±ï¸ MATCHING: Starting findMatches for user 99
5:34:16 AM [express] GET /api/travel-plans/99 304 in 63ms :: [{"id":63,"userId":99,"destination":"Brâ€¦
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Breda' } URL: /api/events?city=Breda
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Breda' }
ğŸ“… EVENTS DEBUG: Extracted city="Breda" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Breda"
ğŸ“… EVENTS DEBUG: City parameter received: "Breda", type: string
ğŸª EVENTS: Getting events for city: Breda
ğŸ¯ EVENTS EXACT: "Breda" not in metro area, searching exact city only
5:34:17 AM [express] GET /api/users/99/matches 500 in 87ms :: {"message":"Failed to fetch matches"}
5:34:17 AM [express] GET /api/quick-meets 304 in 86ms :: [{"id":18,"organizerId":103,"title":"Bike Râ€¦
ğŸ¤– AI TRIGGER: Breda has only 0 events - generating AI events with OpenAI
ğŸ”’ PRIVATE EVENTS: No user provided - filtered 0 events down to 0 public events
5:34:17 AM [express] GET /api/events 304 in 54ms :: []
5:34:17 AM [express] GET /api/quick-meets 304 in 108ms :: [{"id":18,"organizerId":103,"title":"Bike â€¦
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Breda
ğŸ¢ DIRECT API: Fetching businesses
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City' } URL: /api/events?city=Culver%20City
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:34:17.230Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:34:17 AM [express] GET /api/users 304 in 107ms :: []
5:34:17 AM [express] GET /api/users/99 500 in 107ms :: {"message":"Failed to fetch user"}
ğŸ¢ DIRECT API: Found 1 businesses
5:34:17 AM [express] GET /api/users/99 500 in 134ms :: {"message":"Failed to fetch user"}
5:34:17 AM [express] GET /api/quick-meets 304 in 136ms :: []
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:34:17 AM [express] GET /api/events 500 in 291ms :: {"message":"Failed to fetch events"}
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
5:34:17 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:34:17 AM [express] GET /api/weather 500 in 0ms :: {"message":"Weather service not configured"}
5:34:17 AM [express] GET /api/events 500 in 69ms :: {"message":"Failed to fetch events"}
5:34:19 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:34:21 AM [express] GET /api/messages/99 500 in 34ms :: {"message":"Failed to fetch messages"}
5:34:23 AM [express] POST /api/messages/99/mark-read 200 in 43ms :: {"success":true,"markedCount":1}
5:34:23 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:34:23 AM [express] GET /api/messages/99/unread-count 200 in 26ms :: {"unreadCount":"1"}
5:34:23 AM [express] GET /api/messages/99/unread-count 200 in 24ms :: {"unreadCount":"1"}
5:34:24 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:34:27 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:34:28 AM [express] POST /api/messages/99/mark-read 200 in 27ms :: {"success":true,"markedCount":0}
5:34:28 AM [express] POST /api/messages 200 in 36ms :: {"success":true,"message":{"id":153,"senderIdâ€¦
âŒ Failed to send new message email: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async Promise.all (index 0)
    at async sendNewMessageEmail (file:///opt/render/project/src/dist/index.js:16462:33)
    at async Immediate.<anonymous> (file:///opt/render/project/src/dist/index.js:26920:26) {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:34:28 AM [express] GET /api/messages/99 500 in 6ms :: {"message":"Failed to fetch messages"}
5:34:28 AM [express] GET /api/messages/99/unread-count 304 in 22ms :: {"unreadCount":"1"}
5:34:28 AM [express] GET /api/messages/99/unread-count 304 in 26ms :: {"unreadCount":"1"}
5:34:28 AM [express] GET /api/connections/99 304 in 16ms :: [{"id":76,"status":"accepted","createdAtâ€¦
5:34:29 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:34:32 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:34:42 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:34:43 AM [express] GET /api/messages/99 500 in 28ms :: {"message":"Failed to fetch messages"}
5:34:45 AM [express] POST /api/messages/99/mark-read 200 in 28ms :: {"success":true,"markedCount":0}
5:34:45 AM [express] POST /api/messages 200 in 28ms :: {"success":true,"message":{"id":154,"senderIdâ€¦
âŒ Failed to send new message email: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async Promise.all (index 0)
    at async sendNewMessageEmail (file:///opt/render/project/src/dist/index.js:16462:33)
    at async Immediate.<anonymous> (file:///opt/render/project/src/dist/index.js:26920:26) {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:34:45 AM [express] GET /api/messages/99/unread-count 304 in 4ms :: {"unreadCount":"1"}
5:34:45 AM [express] GET /api/messages/99/unread-count 304 in 29ms :: {"unreadCount":"1"}
5:34:45 AM [express] GET /api/messages/99 500 in 7ms :: {"message":"Failed to fetch messages"}
5:34:45 AM [express] GET /api/connections/99 304 in 14ms :: [{"id":76,"status":"accepted","createdAtâ€¦
5:34:47 AM [express] POST /api/messages/99/mark-read 200 in 4ms :: {"success":true,"markedCount":0}
5:34:47 AM [express] GET /api/messages/99/unread-count 304 in 5ms :: {"unreadCount":"1"}
5:34:47 AM [express] GET /api/messages/99 500 in 7ms :: {"message":"Failed to fetch messages"}
5:34:47 AM [express] GET /api/messages/99/unread-count 304 in 30ms :: {"unreadCount":"1"}
5:34:49 AM [express] GET /api/messages/99 500 in 6ms :: {"message":"Failed to fetch messages"}
5:34:51 AM [express] GET /api/messages/99 500 in 29ms :: {"message":"Failed to fetch messages"}
5:34:52 AM [express] POST /api/messages/99/mark-read 200 in 25ms :: {"success":true,"markedCount":0}
5:34:52 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:34:52 AM [express] GET /api/messages/99/unread-count 304 in 29ms :: {"unreadCount":"1"}
5:34:53 AM [express] GET /api/messages/99/unread-count 304 in 152ms :: {"unreadCount":"1"}
5:34:54 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:34:56 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:34:57 AM [express] POST /api/messages/99/mark-read 200 in 28ms :: {"success":true,"markedCount":1}
5:34:57 AM [express] GET /api/messages/99/unread-count 200 in 3ms :: {"unreadCount":"0"}
5:34:57 AM [express] GET /api/messages/99/unread-count 200 in 5ms :: {"unreadCount":"0"}
5:34:57 AM [express] GET /api/messages/99 500 in 27ms :: {"message":"Failed to fetch messages"}
5:34:59 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:35:00 AM [express] POST /api/messages 200 in 27ms :: {"success":true,"message":{"id":155,"senderIdâ€¦
âŒ Failed to send new message email: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async Promise.all (index 0)
    at async sendNewMessageEmail (file:///opt/render/project/src/dist/index.js:16462:33)
    at async Immediate.<anonymous> (file:///opt/render/project/src/dist/index.js:26920:26) {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:00 AM [express] POST /api/messages/99/mark-read 200 in 25ms :: {"success":true,"markedCount":0}
5:35:00 AM [express] GET /api/messages/99/unread-count 304 in 3ms :: {"unreadCount":"0"}
5:35:00 AM [express] GET /api/messages/99/unread-count 304 in 4ms :: {"unreadCount":"0"}
5:35:00 AM [express] GET /api/connections/99 304 in 15ms :: [{"id":76,"status":"accepted","createdAtâ€¦
5:35:01 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
5:35:03 AM [express] GET /api/users/99/chatroom-participation 304 in 46ms :: [{"id":138,"name":"Welcâ€¦
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:03 AM [express] GET /api/users/99/profile-bundle 500 in 55ms :: {"message":"Failed to fetch proâ€¦
5:35:03 AM [express] GET /api/connections/99 304 in 105ms :: [{"id":76,"status":"accepted","createdAâ€¦
ğŸ¢ DIRECT API: Fetching businesses
ğŸ¢ DIRECT API: Found 1 businesses
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:04.549Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:04 AM [express] GET /api/travel-plans/99 304 in 5ms :: [{"id":63,"userId":99,"destination":"Breâ€¦
5:35:04 AM [express] GET /api/users/99 500 in 10ms :: {"message":"Failed to fetch user"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:04.562Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:04 AM [express] GET /api/quick-meets 304 in 21ms :: [{"id":18,"organizerId":103,"title":"Bike Râ€¦
5:35:04 AM [express] GET /api/users/99 500 in 19ms :: {"message":"Failed to fetch user"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:04.638Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
â±ï¸ MATCHING: Starting findMatches for user 99
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:35:04 AM [express] GET /api/weather 500 in 2ms :: {"message":"Weather service not configured"}
5:35:04 AM [express] GET /api/quick-meets 304 in 285ms :: [{"id":18,"organizerId":103,"title":"Bike â€¦
5:35:04 AM [express] GET /api/quick-meets 304 in 276ms :: []
5:35:04 AM [express] GET /api/users/99/matches 500 in 304ms :: {"message":"Failed to fetch matches"}
5:35:04 AM [express] GET /api/messages/99 500 in 214ms :: {"message":"Failed to fetch messages"}
5:35:04 AM [express] GET /api/users 304 in 214ms :: []
5:35:04 AM [express] GET /api/events 500 in 308ms :: {"message":"Failed to fetch events"}
5:35:05 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
5:35:06 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:35:06 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:06 AM [express] GET /api/users/99/matches 500 in 65ms :: {"message":"Failed to fetch matches"}
5:35:07 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
5:35:08 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:35:08 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:08 AM [express] GET /api/users/99/matches 500 in 65ms :: {"message":"Failed to fetch matches"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:09 AM [express] GET /api/users/99/profile-bundle 500 in 14ms :: {"message":"Failed to fetch proâ€¦
5:35:09 AM [express] GET /api/connections/99 304 in 18ms :: [{"id":76,"status":"accepted","createdAtâ€¦
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:10 AM [express] GET /api/users/99/profile-bundle 500 in 7ms :: {"message":"Failed to fetch profâ€¦
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:11.097Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:11 AM [express] GET /api/user/qr-code 500 in 5ms :: {"error":"Failed to generate QR code"}
ğŸª PROFILE EVENTS: Getting all events for organizer 99
5:35:11 AM [express] GET /api/users/99/travel-plans 304 in 8ms :: [{"id":63,"userId":99,"destinationâ€¦
5:35:11 AM [express] GET /api/users/99 500 in 9ms :: {"message":"Failed to fetch user"}
5:35:11 AM [express] GET /api/user-city-interests/99 304 in 36ms :: []
5:35:11 AM [express] GET /api/user-event-interests/99 304 in 34ms :: []
5:35:11 AM [express] GET /api/quick-meets 304 in 38ms :: [{"id":16,"organizerId":99,"title":"Quick Wâ€¦
5:35:11 AM [express] GET /api/users/99/all-events 304 in 61ms :: [{"id":295,"title":"Party in Playa â€¦
ğŸª PROFILE EVENTS: Found 1 events for organizer 99
ğŸª PROFILE EVENTS: Event details: [
  { id: 295, title: 'Party in Playa ', date: 2026-01-25T17:58:00.000Z }
]
5:35:11 AM [express] GET /api/events/organizer/99 304 in 130ms :: [{"id":295,"title":"Party in Playaâ€¦
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:12 AM [express] GET /api/user/qr-code 500 in 4ms :: {"error":"Failed to generate QR code"}
5:35:12 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:13.624Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:13 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:35:13 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
5:35:13 AM [express] GET /api/quick-meets 304 in 13ms :: [{"id":18,"organizerId":103,"title":"Bike Râ€¦
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:13.641Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:13 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
5:35:13 AM [express] GET /api/quick-meets 304 in 6ms :: []
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:13 AM [express] GET /api/users/99/matches 500 in 64ms :: {"message":"Failed to fetch matches"}
5:35:14 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
5:35:14 AM [express] GET /api/weather 500 in 0ms :: {"message":"Weather service not configured"}
5:35:14 AM [express] GET /api/messages/99 500 in 7ms :: {"message":"Failed to fetch messages"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:14 AM [express] GET /api/users/99/matches 500 in 65ms :: {"message":"Failed to fetch matches"}
5:35:16 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
5:35:17 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:17 AM [express] GET /api/users/99/matches 500 in 99ms :: {"message":"Failed to fetch matches"}
5:35:30 AM [express] GET /api/messages/99/unread-count 304 in 30ms :: {"unreadCount":"0"}
5:35:31 AM [express] GET /api/search-users 304 in 30ms :: {"users":[{"id":104,"username":"playaguy",â€¦
ğŸ” EVENTS SEARCH: Searching for "Poker" in city "undefined"
ğŸ” EVENTS SEARCH: Found 0 events matching "Poker"
5:35:31 AM [express] GET /api/search-events 304 in 6ms :: []
5:35:32 AM [express] GET /api/search-users 304 in 14ms :: {"users":[{"id":104,"username":"playaguy",â€¦
ğŸ” EVENTS SEARCH: Searching for "Poker" in city "undefined"
ğŸ” EVENTS SEARCH: Found 0 events matching "Poker"
5:35:33 AM [express] GET /api/search-events 304 in 5ms :: []
ğŸ“„ Serving frontend for: /profile/99
ğŸ¢ DIRECT API: Fetching businesses
ğŸ¢ DIRECT API: Found 1 businesses
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:42.109Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸ” Auth check debug: {
  hasSession: true,
  sessionID: 'lZUJNf36-n...',
  hasCookie: true,
  cookiePreview: '_ga=GA1.1.664675618.1762112670; _ga_SNM2SGWP9K=GS2...',
  hasUser: false,
  userId: undefined
}
âŒ Auth check: No session user
5:35:42 AM [express] GET /api/auth/user 401 in 1ms :: {"message":"Not authenticated"}
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City' } URL: /api/events?city=Culver%20City
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
5:35:42 AM [express] GET /api/quick-meets 304 in 25ms :: [{"id":18,"organizerId":103,"title":"Bike Râ€¦
â±ï¸ MATCHING: Starting findMatches for user 99
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:42.361Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:42 AM [express] GET /api/weather 500 in 17ms :: {"message":"Weather service not configured"}
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
ğŸ“„ Serving frontend for: /new-logo_1753994063802.png
5:35:42 AM [express] GET /api/travel-plans/99 304 in 422ms :: [{"id":63,"userId":99,"destination":"Bâ€¦
5:35:42 AM [express] GET /api/messages/99 500 in 422ms :: {"message":"Failed to fetch messages"}
5:35:42 AM [express] GET /api/events 500 in 418ms :: {"message":"Failed to fetch events"}
5:35:42 AM [express] GET /api/users/99 500 in 439ms :: {"message":"Failed to fetch user"}
5:35:42 AM [express] GET /api/users/99/matches 500 in 439ms :: {"message":"Failed to fetch matches"}
5:35:42 AM [express] GET /api/users/99 500 in 328ms :: {"message":"Failed to fetch user"}
5:35:42 AM [express] GET /api/users/99 500 in 21ms :: {"message":"Failed to fetch user"}
5:35:42 AM [express] GET /api/messages/99/unread-count 304 in 302ms :: {"unreadCount":"0"}
5:35:42 AM [express] GET /api/users 304 in 386ms :: []
5:35:42 AM [express] GET /api/users 304 in 387ms :: []
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:42 AM [express] GET /api/users/99/profile-bundle 500 in 217ms :: {"message":"Failed to fetch prâ€¦
5:35:42 AM [express] GET /api/quick-meets 304 in 343ms :: [{"id":18,"organizerId":103,"title":"Bike â€¦
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
5:35:42 AM [express] GET /api/connections/99 304 in 289ms :: [{"id":76,"status":"accepted","createdAâ€¦
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:35:42 AM [express] GET /api/users/99/chatroom-participation 304 in 493ms :: [{"id":138,"name":"Welâ€¦
5:35:42 AM [express] GET /api/connections/99/requests 304 in 402ms :: [{"id":89,"status":"pending","â€¦
5:35:42 AM [express] GET /api/events 500 in 696ms :: {"message":"Failed to fetch events"}
5:35:43 AM [express] GET /api/messages/99 500 in 7ms :: {"message":"Failed to fetch messages"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:43 AM [express] GET /api/users/99/profile-bundle 500 in 16ms :: {"message":"Failed to fetch proâ€¦
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:44.093Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸª PROFILE EVENTS: Getting all events for organizer 99
5:35:44 AM [express] GET /api/users/99 500 in 7ms :: {"message":"Failed to fetch user"}
5:35:44 AM [express] GET /api/user-city-interests/99 304 in 8ms :: []
5:35:44 AM [express] GET /api/users/99/travel-plans 304 in 9ms :: [{"id":63,"userId":99,"destinationâ€¦
5:35:44 AM [express] GET /api/user-event-interests/99 304 in 17ms :: []
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:44 AM [express] GET /api/user/qr-code 500 in 33ms :: {"error":"Failed to generate QR code"}
5:35:44 AM [express] GET /api/quick-meets 304 in 54ms :: [{"id":16,"organizerId":99,"title":"Quick Wâ€¦
5:35:44 AM [express] GET /api/users/99/all-events 304 in 232ms :: [{"id":295,"title":"Party in Playaâ€¦
ğŸª PROFILE EVENTS: Found 1 events for organizer 99
ğŸª PROFILE EVENTS: Event details: [
  { id: 295, title: 'Party in Playa ', date: 2026-01-25T17:58:00.000Z }
]
5:35:44 AM [express] GET /api/events/organizer/99 304 in 252ms :: [{"id":295,"title":"Party in Playaâ€¦
5:35:45 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:45 AM [express] GET /api/user/qr-code 500 in 6ms :: {"error":"Failed to generate QR code"}
5:35:45 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:35:47 AM [express] GET /api/user/qr-code 500 in 6ms :: {"error":"Failed to generate QR code"}
5:35:47 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City', userId: '99' } URL: /api/events?city=Culver%20City&userId=99
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City', userId: '99' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
5:35:51 AM [express] GET /api/messages/99 500 in 7ms :: {"message":"Failed to fetch messages"}
5:35:51 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:51.061Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Culver City' } URL: /api/events?city=Culver%20City
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Culver City' }
ğŸ“… EVENTS DEBUG: Extracted city="Culver City" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Culver City"
ğŸ“… EVENTS DEBUG: City parameter received: "Culver City", type: string
ğŸª EVENTS: Getting events for city: Culver City
ğŸŒ METRO EVENTS: City "Culver City" â†’ Metro "Los Angeles Metro" â†’ Searching 78 cities: Los Angeles, Playa del Rey, Santa Monica, Venice, Venice Beach ...
ğŸŸ¢ EVENTS ENDPOINT HIT! Query: { city: 'Breda' } URL: /api/events?city=Breda
ğŸ“… EVENTS DEBUG: Full query parameters: { city: 'Breda' }
ğŸ“… EVENTS DEBUG: Extracted city="Breda" state="undefined" country="undefined"
ğŸ“… EVENTS DEBUG: City type: string, truthy: true, trimmed: "Breda"
ğŸ“… EVENTS DEBUG: City parameter received: "Breda", type: string
ğŸª EVENTS: Getting events for city: Breda
ğŸ¯ EVENTS EXACT: "Breda" not in metro area, searching exact city only
5:35:51 AM [express] GET /api/quick-meets 304 in 5ms :: []
5:35:51 AM [express] GET /api/users/99 500 in 75ms :: {"message":"Failed to fetch user"}
â±ï¸ MATCHING: Starting findMatches for user 99
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
ğŸ¤– AI TRIGGER: Breda has only 0 events - generating AI events with OpenAI
ğŸ”’ PRIVATE EVENTS: No user provided - filtered 0 events down to 0 public events
5:35:51 AM [express] GET /api/events 304 in 83ms :: []
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:35:51.148Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:35:51 AM [express] GET /api/weather 500 in 2ms :: {"message":"Weather service not configured"}
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Breda
5:35:51 AM [express] GET /api/events 500 in 108ms :: {"message":"Failed to fetch events"}
5:35:51 AM [express] GET /api/quick-meets 304 in 85ms :: [{"id":18,"organizerId":103,"title":"Bike Râ€¦
ğŸ¤– AI TRIGGER: Culver City has only 1 events - generating AI events with OpenAI
âš ï¸ AI EVENT GENERATION DISABLED for safety - no fake events created for Culver City
5:35:51 AM [express] GET /api/users/99/matches 500 in 298ms :: {"message":"Failed to fetch matches"}
5:35:51 AM [express] GET /api/events 500 in 281ms :: {"message":"Failed to fetch events"}
5:35:52 AM [express] GET /api/messages/99 500 in 8ms :: {"message":"Failed to fetch messages"}
5:35:52 AM [express] GET /api/users/99 500 in 27ms :: {"message":"Failed to fetch user"}
5:35:52 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:52 AM [express] GET /api/users/99/matches 500 in 89ms :: {"message":"Failed to fetch matches"}
5:35:54 AM [express] GET /api/weather 500 in 1ms :: {"message":"Weather service not configured"}
5:35:54 AM [express] GET /api/users/99 500 in 29ms :: {"message":"Failed to fetch user"}
5:35:54 AM [express] GET /api/messages/99 500 in 35ms :: {"message":"Failed to fetch messages"}
â±ï¸ MATCHING: Starting findMatches for user 99
5:35:55 AM [express] GET /api/users/99/matches 500 in 90ms :: {"message":"Failed to fetch matches"}
5:36:02 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:36:03 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:36:05 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:36:12 AM [express] GET /api/messages/99/unread-count 304 in 29ms :: {"unreadCount":"0"}
5:36:12 AM [express] GET /api/users 304 in 8ms :: []
5:36:12 AM [express] GET /api/messages/99 500 in 39ms :: {"message":"Failed to fetch messages"}
5:36:12 AM [express] GET /api/connections/99 304 in 45ms :: [{"id":76,"status":"accepted","createdAtâ€¦
5:36:14 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
5:36:16 AM [express] GET /api/messages/99 500 in 30ms :: {"message":"Failed to fetch messages"}
5:36:17 AM [express] POST /api/messages/99/mark-read 200 in 29ms :: {"success":true,"markedCount":0}
5:36:17 AM [express] GET /api/messages/99/unread-count 304 in 5ms :: {"unreadCount":"0"}
5:36:17 AM [express] GET /api/messages/99/unread-count 304 in 9ms :: {"unreadCount":"0"}
5:36:17 AM [express] GET /api/messages/99 500 in 31ms :: {"message":"Failed to fetch messages"}
5:36:19 AM [express] GET /api/messages/99 500 in 9ms :: {"message":"Failed to fetch messages"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
âš ï¸ SLOW REQUEST: GET /api/messages/99 took 2591ms
5:38:24 AM [express] GET /api/messages/99 500 in 2531ms :: {"message":"Failed to fetch messages"}
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
âš ï¸ SLOW REQUEST: GET /api/users/99/profile-bundle took 2222ms
5:38:24 AM [express] GET /api/users/99/profile-bundle 500 in 2162ms :: {"message":"Failed to fetch pâ€¦
âš ï¸ SLOW REQUEST: GET /api/connections/99 took 2291ms
5:38:25 AM [express] GET /api/connections/99 304 in 2219ms :: [{"id":76,"status":"accepted","createdâ€¦
âš ï¸ SLOW REQUEST: GET /api/users/99/chatroom-participation took 2142ms
5:38:25 AM [express] GET /api/users/99/chatroom-participation 304 in 2082ms :: [{"id":138,"name":"Weâ€¦
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:26 AM [express] GET /api/users/99/profile-bundle 500 in 12ms :: {"message":"Failed to fetch proâ€¦
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:26 AM [express] GET /api/user/qr-code 500 in 6ms :: {"error":"Failed to generate QR code"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:38:26.477Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:38:26 AM [express] GET /api/user-city-interests/99 304 in 13ms :: []
5:38:26 AM [express] GET /api/users/99/all-events 304 in 32ms :: [{"id":295,"title":"Party in Playa â€¦
5:38:26 AM [express] GET /api/quick-meets 304 in 58ms :: [{"id":16,"organizerId":99,"title":"Quick Wâ€¦
ğŸª PROFILE EVENTS: Getting all events for organizer 99
ğŸª PROFILE EVENTS: Found 1 events for organizer 99
ğŸª PROFILE EVENTS: Event details: [
  { id: 295, title: 'Party in Playa ', date: 2026-01-25T17:58:00.000Z }
]
5:38:26 AM [express] GET /api/events/organizer/99 304 in 26ms :: [{"id":295,"title":"Party in Playa â€¦
5:38:26 AM [express] GET /api/users/99 500 in 4ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:27 AM [express] GET /api/user/qr-code 500 in 4ms :: {"error":"Failed to generate QR code"}
5:38:27 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:29 AM [express] GET /api/users/99/profile-bundle 500 in 19ms :: {"message":"Failed to fetch proâ€¦
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:30 AM [express] GET /api/users/99/profile-bundle 500 in 15ms :: {"message":"Failed to fetch proâ€¦
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:38:30 AM [express] GET /api/user/qr-code 500 in 5ms :: {"error":"Failed to generate QR code"}
5:38:30 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
5:38:31 AM [express] GET /api/user-city-interests/99 304 in 7ms :: []
5:38:31 AM [express] GET /api/users/99/all-events 304 in 49ms :: [{"id":295,"title":"Party in Playa â€¦
5:39:28 AM [express] GET /api/users/99 500 in 40ms :: {"message":"Failed to fetch user"}
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:39:28 AM [express] GET /api/user/qr-code 500 in 125ms :: {"error":"Failed to generate QR code"}
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:39:28 AM [express] GET /api/users/99/profile-bundle 500 in 138ms :: {"message":"Failed to fetch prâ€¦
ğŸ“¦ PROFILE-BUNDLE: Fetching all data for user 99 (viewer: 99)
Profile bundle error: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async Promise.all (index 0)
    at async file:///opt/render/project/src/dist/index.js:24746:11 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:39:29 AM [express] GET /api/users/99/profile-bundle 500 in 11ms :: {"message":"Failed to fetch proâ€¦
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:39:29 AM [express] GET /api/user/qr-code 500 in 5ms :: {"error":"Failed to generate QR code"}
ğŸª PROFILE EVENTS: Getting all events for organizer 99
5:39:29 AM [express] GET /api/users/99 500 in 6ms :: {"message":"Failed to fetch user"}
ğŸ”§ ROUTE HIT: /api/quick-meets called at 2026-02-02T05:39:29.769Z
ğŸ”§ NODE_ENV: production
ğŸ”§ QUICK MEETS DEBUG: Building filtered query with user join to get organizer info
5:39:29 AM [express] GET /api/users/99/all-events 304 in 32ms :: [{"id":295,"title":"Party in Playa â€¦
5:39:29 AM [express] GET /api/quick-meets 304 in 80ms :: [{"id":16,"organizerId":99,"title":"Quick Wâ€¦
ğŸª PROFILE EVENTS: Found 1 events for organizer 99
ğŸª PROFILE EVENTS: Event details: [
  { id: 295, title: 'Party in Playa ', date: 2026-01-25T17:58:00.000Z }
]
5:39:29 AM [express] GET /api/events/organizer/99 304 in 94ms :: [{"id":295,"title":"Party in Playa â€¦
5:39:29 AM [express] GET /api/user-city-interests/99 304 in 5ms :: []
5:39:30 AM [express] GET /api/users/99 500 in 5ms :: {"message":"Failed to fetch user"}
Error generating QR code: error: column "ambassador_points" does not exist
    at file:///opt/render/project/src/node_modules/@neondatabase/serverless/index.mjs:1087:33
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (file:///opt/render/project/src/node_modules/drizzle-orm/neon-serverless/session.js:76:20)
    at async DatabaseStorage.getUser (file:///opt/render/project/src/dist/index.js:5403:24)
    at async file:///opt/render/project/src/dist/index.js:34631:18 {
  length: 119,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1993',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
5:39:30 AM [express] GET /api/user/qr-code 500 in 6ms :: {"error":"Failed to generate QR code"}
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ“„ Serving frontend for: /
ğŸ”„ Running scheduled travel status check...
Checking travel status for 0 users with travel data
Travel status update completed for 0 unique users
âœ… Scheduled travel status check completed
==> Setting WEB_CONCURRENCY=1 by default, based on available CPUs in the instance
==> Deploying...
ğŸ“„ Serving frontend for: /
==> Running 'npm start'
> rest-express@1.0.0 start
> node dist/index.js
The `fetchConnectionCache` option is deprecated (now always `true`)
ğŸ“± SMS Service: Twilio credentials not configured - SMS notifications disabled
Environment check: { BREVO_API_KEY: 'LOADED', NODE_ENV: 'production' }
ğŸš€ REGISTERING CRITICAL API ROUTES FIRST TO BYPASS VITE INTERCEPTION
âœ… CRITICAL API ROUTES REGISTERED BEFORE OTHER MIDDLEWARE
ğŸ”´ Redis URL check: {
  hasRedisUrl: true,
  urlPrefix: 'rediss://d...',
  nodeEnv: 'production'
}
ğŸ”´ Redis: Connecting to Redis for session storage...
ğŸª Session config: {
  isProduction: true,
  nodeEnv: 'production',
  hasRedis: true,
  cookieSecure: true
}
ğŸ”’ Trust proxy enabled for production
Starting server initialization...
Basic routes added, starting lazy route registration...
Loading minimal routes for startup...
Quick login fix temporarily disabled for deployment stability
Minimal routes registered successfully
Registering main API routes from routes.ts...
âš ï¸ Replit Auth: Skipping - not running on Replit (using password auth instead)
âœ… Replit Auth setup complete
âš ï¸ WebSocket: Running in single-instance mode (no Redis)
âœ… Main API routes registered successfully
ğŸš€ REGISTERING CRITICAL API ROUTES TO BYPASS VITE INTERCEPTION
ğŸš€ DEPLOYMENT FIX v3: Custom deployment setup preserving API routes...
ğŸ“¦ Static path: /opt/render/project/src/dist/public
âœ… DEPLOYMENT FIX v3: Custom setup complete - API routes preserved
6:07:40 AM [express] serving on port 10000
ğŸš€ Server successfully started on http://0.0.0.0:10000
ğŸ”„ Running initial travel status check...
âœ… Cache: Redis connected for API caching
âœ… Redis: Connected successfully - sessions will persist across restarts
âœ… Redis PubSub: Subscriber connected (instance 1770012460334-88dzwoc6k)
âœ… Redis PubSub: Publisher connected (instance 1770012460334-88dzwoc6k)
Checking travel status for 0 users with travel data
Travel status update completed for 0 unique users
âœ… Initial travel status check completed
âœ… Server started successfully with travel status monitoring enabled
âœ… Redis: Ready to accept commands
==> Your service is live ğŸ‰
==> 
==> ///////////////////////////////////////////////////////////
==> 
==> Available at your primary URL https://nearbytraveler.org + 2 more domains
==> 
==> ///////////////////////////////////////////////////////////
ğŸ“„ Serving frontend for: /